<!--pages/video/video-list.wxml-->
<include src="/commons/navbar/navbar"/>
<view class="after-navber">

<view>
  <navigator class="topic-bar" url="/pages/topic-list/topic-list">
                <view class="flex-row">
                    <view class="flex-grow-0 flex-y-center">
                        <image class="bar-icon" src="/images/icon-topic.png"></image>
                    </view>
                    <view class="flex-grow-1">
                        <view wx:for="{{topic_list}}" wx:if="{{index < 2}}" class="flex-row">
                            <view class="flex-grow-0 flex-y-center">
                                <view class="topic-tag">热门</view>
                            </view>
                            <view class="flex-grow-1 topic-title">{{item.title}}</view>
                        </view>
                    </view>
                </view>
            </navigator>
</view>
    <view class="info">
        <view class="info-list">
            <block wx:for="{{video_list}}">
                <view class="info-content">
                    <view class="info-bg">
                        <view class="info-video">
                            <image class="bg {{show_video == index?hide:''}}" src="{{item.pic_url}}"
                                   data-index='{{index}}' bindtap="play"></image>
                            <image class="play {{show_video == index?hide:''}}" src="/images/video-play.png"
                                   data-index='{{index}}' bindtap="play"></image>
                            <video class='{{show_video == index?"":hide}}' id='video_{{index}}' src='{{item.url}}' wx:if='{{show_video == index}}'
                                   controls='controls' autoplay='true'></video>
                        </view>
                        <view class="info-label">{{item.title||"未命名"}}</view>
                        <view class="content {{item.show != -1 ?'':'more'}}">{{item.content || "暂无信息"}}</view>
                        <view class='flex-y-center flex-x-center'
                              style='position:relative;height:80rpx;font-size:9pt;color:#afafaf'>
                            <text class='flex-y-center left'>{{item.time}}</text>
                            <view class='right flex-y-center' capture-bind:tap='more' data-index='{{index}}'>
                                <image src='{{item.show != -1 ? "/images/icon-up.png":"/images/icon-down.png"}}'
                                       animation='{{animationData}}'></image>
                                <text data-index='{{index}}'>展开</text>
                            </view>
                        </view>
                    </view>
                </view>
            </block>
        </view>
    </view>
</view>

<modal hidden="{{ifhidden}}">  
    <button style="border:0rpx" open-type="getUserInfo">点击以授权</button>
</modal>