<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.inbody.crm.ee.dao.EeEmpEvaluationDao">
    
	<sql id="eeEmpEvaluationColumns">
		a.id AS "id",
		a.proc_ins_id AS "procInsId",
		a.create_by AS "createBy.id",
		a.create_date AS "createDate",
		a.update_by AS "updateBy.id",
		a.update_date AS "updateDate",
		a.del_flag AS "delFlag",
		a.app_id AS "appId",
		a.evaluate_type AS "evaluateType",
		a.describe1 AS "describe1",
		a.describe2 AS "describe2",
		a.describe3 AS "describe3",
		a.describe4 AS "describe4",
		a.evaluate1 AS "evaluate1",
		a.evaluate2 AS "evaluate2",
		a.evaluate3 AS "evaluate3",
		a.evaluate4 AS "evaluate4",
		a.evaluate5 AS "evaluate5",
		a.evaluate6 AS "evaluate6",
		a.evaluate7 AS "evaluate7",
		a.evaluate8 AS "evaluate8",
		a.new_remarks AS "newRemarks",
		a.average AS "average"
	</sql>
	
	<sql id="eeEmpEvaluationJoins">
	</sql>
    
	<select id="get" resultType="EeEmpEvaluation">
		SELECT 
			<include refid="eeEmpEvaluationColumns"/>
		FROM ee_emp_evaluation a
		<include refid="eeEmpEvaluationJoins"/>
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="EeEmpEvaluation">
		SELECT 
			<include refid="eeEmpEvaluationColumns"/>
		FROM ee_emp_evaluation a
		<include refid="eeEmpEvaluationJoins"/>
		<where>
			a.del_flag = #{DEL_FLAG_NORMAL}
			<if test="appId != null and appId != ''">
			and a.app_id = #{appId}
			</if>
		</where>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
				ORDER BY a.update_date DESC
			</otherwise>
		</choose>
	</select>
	
	<select id="findAllList" resultType="EeEmpEvaluation">
		SELECT 
			<include refid="eeEmpEvaluationColumns"/>
		FROM ee_emp_evaluation a
		<include refid="eeEmpEvaluationJoins"/>
		<where>
			a.del_flag = #{DEL_FLAG_NORMAL}
		</where>		
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY ${page.orderBy}
			</when>
			<otherwise>
				ORDER BY a.update_date DESC
			</otherwise>
		</choose>
	</select>
	
	<insert id="insert">
		INSERT INTO ee_emp_evaluation(
			id,
			proc_ins_id,
			create_by,
			create_date,
			update_by,
			update_date,
			del_flag,
			app_id,
			evaluate_type,
			describe1,
			describe2,
			describe3,
			describe4,
			evaluate1,
			evaluate2,
			evaluate3,
			evaluate4,
			evaluate5,
			evaluate6,
			evaluate7,
			evaluate8,
			new_remarks,
			average
		) VALUES (
			#{id},
			#{procInsId},
			#{createBy.id},
			#{createDate},
			#{updateBy.id},
			#{updateDate},
			#{delFlag},
			#{appId},
			#{evaluateType},
			#{describe1},
			#{describe2},
			#{describe3},
			#{describe4},
			#{evaluate1},
			#{evaluate2},
			#{evaluate3},
			#{evaluate4},
			#{evaluate5},
			#{evaluate6},
			#{evaluate7},
			#{evaluate8},
			#{newRemarks},
			#{average}
		)
	</insert>
	
	<update id="update">
		UPDATE ee_emp_evaluation SET 	
			proc_ins_id = #{procInsId},
			update_by = #{updateBy.id},
			update_date = #{updateDate},
			evaluate_type = #{evaluateType},
			describe1 = #{describe1},
			describe2 = #{describe2},
			describe3 = #{describe3},
			describe4 = #{describe4},
			evaluate1 = #{evaluate1},
			evaluate2 = #{evaluate2},
			evaluate3 = #{evaluate3},
			evaluate4 = #{evaluate4},
			evaluate5 = #{evaluate5},
			evaluate6 = #{evaluate6},
			evaluate7 = #{evaluate7},
			evaluate8 = #{evaluate8},
			new_remarks = #{newRemarks},
			average = #{average},
			app_id = #{appId}
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		UPDATE ee_emp_evaluation SET 
			del_flag = #{DEL_FLAG_DELETE}
		WHERE id = #{id}
	</update>
	
	<update id="deleteById">
		DELETE FROM ee_emp_evaluation
		WHERE id = #{id}
	</update>
</mapper>